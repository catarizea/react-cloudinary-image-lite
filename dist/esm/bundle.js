import t,{useState as e}from"react";var i;"function"==typeof SuppressedError&&SuppressedError,function(t){t.Density="density",t.Resolution="resolution"}(i||(i={}));const a=({id:t,quality:e,format:i,width:a,dpr:r,blur:o,aspectRatio:s,cloudName:n,apiVersion:l})=>`https://res.cloudinary.com/${n}/image/upload/q_${e},f_${i}${s?",c_fill":""},w_${a}${s?`,ar_${s}`:""}${r?`,dpr_${r}`:""}${o?`,e_blur:${o}`:""}/v${l}/${t}`,r=({id:t,quality:e,sizesArr:r,format:o,switching:s,aspectRatio:n,apiVersion:l,cloudName:c})=>{if(s===i.Resolution){const i={};return r.map((r=>`${a(Object.assign(Object.assign({id:t,quality:e,format:o,width:r.width,aspectRatio:n},i),{apiVersion:l,cloudName:c}))} ${r.width}w`)).join(", ")}return`${a({id:t,quality:e,format:o,width:r[r.length-1].width,aspectRatio:n,apiVersion:l,cloudName:c})} 1x, ${a({id:t,quality:e,format:o,width:r[r.length-1].width,aspectRatio:n,dpr:2,apiVersion:l,cloudName:c})} 2x,  ${a({id:t,quality:e,format:o,width:r[r.length-1].width,aspectRatio:n,dpr:3,apiVersion:l,cloudName:c})} 3x`},o=t=>parseInt(t.trim().substring(0,t.length-2),10),s=t=>{const e=[0,-1].includes((i=t).lastIndexOf("px"))||i.lastIndexOf("px")!==i.length-2?null:i.trim();var i;if(null===e)return null;const a=e.split(")");if(1===a.length){const t=o(e);return t?{query:"*",width:t}:null}if(-1===a[0].indexOf("(")||!a[1])return null;const r=o(a[1].trim());return r?{query:`${a[0]})`,width:r}:null},n=o=>{var{src:n,width:l,height:c,alt:d,priority:u,className:p,placeholderClassName:h,quality:m,sizes:f,switching:y,notResponsive:g,style:w,onLoaded:b,aspectRatio:O,dataIndex:$,cloudName:N,apiVersion:R}=o,q=function(t,e){var i={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(i[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(i[a[r]]=t[a[r]])}return i}(o,["src","width","height","alt","priority","className","placeholderClassName","quality","sizes","switching","notResponsive","style","onLoaded","aspectRatio","dataIndex","cloudName","apiVersion"]);const[v,x]=e(!1),j=(t=>{if(!t)return null;const e=t.trim().split(","),i=[];for(const t of e){const e=s(t);if(!e)return null;i.push(e)}return i})(f);if(!j)throw new Error("Sizes attribute is not valid");const V=r({id:n,quality:m,sizesArr:j,format:"avif",switching:y,aspectRatio:O,cloudName:N,apiVersion:R}),z=r({id:n,quality:m,sizesArr:j,format:"webp",switching:y,aspectRatio:O,apiVersion:R,cloudName:N}),E=l/c,S=y===i.Resolution?{sizes:f}:{},_=j[j.length-1].width,I=Math.round(_/E),A=g?{flexShrink:0}:{},L=$?{"data-index":$}:{},P=p?{className:p}:{};let C={};v&&(C={display:"none"});let k={opacity:0};return v&&(k={opacity:1}),t.createElement("div",Object.assign({},P,{style:Object.assign(Object.assign(Object.assign({},A),w),{position:"relative",overflow:"hidden"})},L),t.createElement("img",{src:a({id:n,quality:"auto",format:"auto",width:100,aspectRatio:O,blur:1e3,apiVersion:R,cloudName:N}),width:_,height:I,className:h,loading:u?"eager":"lazy",fetchpriority:u?"high":"low",alt:d,style:Object.assign({position:"absolute",inset:0},C)}),t.createElement("picture",{onLoad:()=>{x(!0),b&&$&&b($)}},t.createElement("source",Object.assign({type:"image/avif",srcSet:V},S)),t.createElement("img",Object.assign({srcSet:z,src:a({id:n,quality:m,format:"webp",width:_,aspectRatio:O,apiVersion:R,cloudName:N}),alt:d,width:_,height:I,loading:u?"eager":"lazy",fetchpriority:u?"high":"low",style:k},S,q))))};export{n as Image,i as Switching};
//# sourceMappingURL=bundle.js.map
