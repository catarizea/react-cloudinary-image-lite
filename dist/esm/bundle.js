import t,{useState as e}from"react";var i;"function"==typeof SuppressedError&&SuppressedError,function(t){t.Density="density",t.Resolution="resolution"}(i||(i={}));const o=({id:t,quality:e,format:i,width:o,dpr:r,blur:a,aspectRatio:n,cloudName:s,apiVersion:l})=>`https://res.cloudinary.com/${s}/image/upload/q_${e},f_${i}${n?",c_fill":""},w_${o}${n?`,ar_${n}`:""}${r?`,dpr_${r}`:""}${a?`,e_blur:${a}`:""}/v${l}/${t}`,r=({id:t,quality:e,sizesArr:r,format:a,switching:n,aspectRatio:s,apiVersion:l,cloudName:c})=>{if(n===i.Resolution){const i={};return r.map((r=>`${o(Object.assign(Object.assign({id:t,quality:e,format:a,width:r.width,aspectRatio:s},i),{apiVersion:l,cloudName:c}))} ${r.width}w`)).join(", ")}return`${o({id:t,quality:e,format:a,width:r[r.length-1].width,aspectRatio:s,apiVersion:l,cloudName:c})} 1x, ${o({id:t,quality:e,format:a,width:r[r.length-1].width,aspectRatio:s,dpr:2,apiVersion:l,cloudName:c})} 2x,  ${o({id:t,quality:e,format:a,width:r[r.length-1].width,aspectRatio:s,dpr:3,apiVersion:l,cloudName:c})} 3x`},a=t=>[0,-1].includes(t.lastIndexOf("px"))||t.lastIndexOf("px")!==t.length-2?null:t.trim(),n=t=>parseInt(t.trim().substring(0,t.length-2),10),s=t=>{const e=a(t);if(null===e)return null;const i=e.split(")");if(1===i.length){const t=n(e);return t?{query:"*",width:t}:null}if(-1===i[0].indexOf("(")||!i[1])return null;const o=a(i[1]);if(null===o)return null;const r=n(o);return r?{query:`${i[0]})`,width:r}:null},l=a=>{var{src:n,width:l,height:c,alt:u,priority:p,className:d,placeholderClassName:h,quality:f,sizes:m,switching:w,notResponsive:y,style:g,currentBreakpoint:b,widthsByBreakpoint:O,onLoaded:R,aspectRatio:$,dataIndex:N,cloudName:q,apiVersion:x}=a,j=function(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]])}return i}(a,["src","width","height","alt","priority","className","placeholderClassName","quality","sizes","switching","notResponsive","style","currentBreakpoint","widthsByBreakpoint","onLoaded","aspectRatio","dataIndex","cloudName","apiVersion"]);const[v,V]=e(!1),E=(t=>{const e=t.trim(),i=e.split(",");if(!i.length){const t=s(e);return t?[t]:null}const o=[];for(const t of i){const e=s(t);if(!e)return null;o.push(e)}return o})(m);if(w===i.Resolution&&!b)throw new Error("currentBreakpoint prop not set for resolution switching");if(w===i.Resolution&&!O)throw new Error("widthsByBreakpoint prop not set for resolution switching");if(!E)throw new Error("Sizes attribute is not valid");const z=r({id:n,quality:f,sizesArr:E,format:"avif",switching:w,aspectRatio:$,cloudName:q,apiVersion:x}),B=r({id:n,quality:f,sizesArr:E,format:"webp",switching:w,aspectRatio:$,apiVersion:x,cloudName:q}),S=l/c,k=w===i.Resolution?{sizes:m}:{};let _=E[E.length-1].width;w===i.Resolution&&O&&b&&(_=O[b]);const I=Math.round(_/S),A=y?{flexShrink:0}:{},L=N?{"data-index":N}:{},P=d?{className:d}:{},C={};v&&(C.display="none");const D={opacity:0};return v&&(D.opacity=1),t.createElement("div",Object.assign({},P,{style:Object.assign(Object.assign(Object.assign({},A),g),{position:"relative",overflow:"hidden"})},L),t.createElement("img",{src:o({id:n,quality:"auto",format:"auto",width:100,aspectRatio:$,blur:1e3,apiVersion:x,cloudName:q}),width:_,height:I,className:h,loading:p?"eager":"lazy",fetchpriority:p?"high":"low",alt:u,style:Object.assign({position:"absolute",inset:0},C)}),t.createElement("picture",{onLoad:()=>{V(!0),R&&N&&R(N)}},t.createElement("source",Object.assign({type:"image/avif",srcSet:z},k)),t.createElement("img",Object.assign({srcSet:B,src:o({id:n,quality:f,format:"webp",width:_,aspectRatio:$,apiVersion:x,cloudName:q}),alt:u,width:_,height:I,loading:p?"eager":"lazy",fetchpriority:p?"high":"low",style:D},k,j))))};export{l as Image,i as Switching};
//# sourceMappingURL=bundle.js.map
