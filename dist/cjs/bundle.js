"use strict";var t,e=require("react");"function"==typeof SuppressedError&&SuppressedError,exports.Switching=void 0,(t=exports.Switching||(exports.Switching={})).Density="density",t.Resolution="resolution";const i=({id:t,quality:e,format:i,width:a,dpr:s,blur:r,aspectRatio:o,cloudName:n,apiVersion:l})=>`https://res.cloudinary.com/${n}/image/upload/q_${e},f_${i}${o?",c_fill":""},w_${a}${o?`,ar_${o}`:""}${s?`,dpr_${s}`:""}${r?`,e_blur:${r}`:""}/v${l}/${t}`,a=({id:t,quality:e,sizesArr:a,format:s,switching:r,aspectRatio:o,apiVersion:n,cloudName:l})=>{if(r===exports.Switching.Resolution){const r={};return a.map((a=>`${i(Object.assign(Object.assign({id:t,quality:e,format:s,width:a.width,aspectRatio:o},r),{apiVersion:n,cloudName:l}))} ${a.width}w`)).join(", ")}return`${i({id:t,quality:e,format:s,width:a[a.length-1].width,aspectRatio:o,apiVersion:n,cloudName:l})} 1x, ${i({id:t,quality:e,format:s,width:a[a.length-1].width,aspectRatio:o,dpr:2,apiVersion:n,cloudName:l})} 2x,  ${i({id:t,quality:e,format:s,width:a[a.length-1].width,aspectRatio:o,dpr:3,apiVersion:n,cloudName:l})} 3x`},s=t=>[0,-1].includes(t.lastIndexOf("px"))||t.lastIndexOf("px")!==t.length-2?null:t.trim(),r=t=>parseInt(t.trim().substring(0,t.length-2),10),o=t=>{const e=s(t);if(null===e)return null;const i=e.split(")");if(1===i.length){const t=r(e);return t?{query:"*",width:t}:null}if(-1===i[0].indexOf("(")||!i[1])return null;const a=s(i[1]);if(null===a)return null;const o=r(a);return o?{query:`${i[0]})`,width:o}:null};exports.Image=t=>{var{src:s,width:r,height:n,alt:l,priority:c,className:d,placeholderClassName:u,quality:p,sizes:h,switching:g,notResponsive:m,style:y,onLoaded:f,aspectRatio:w,dataIndex:b,cloudName:O,apiVersion:x}=t,$=function(t,e){var i={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(i[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(t);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(i[a[s]]=t[a[s]])}return i}(t,["src","width","height","alt","priority","className","placeholderClassName","quality","sizes","switching","notResponsive","style","onLoaded","aspectRatio","dataIndex","cloudName","apiVersion"]);const[N,R]=e.useState(!1),q=(t=>{const e=t.trim(),i=e.split(",");if(!i.length){const t=o(e);return t?[t]:null}const a=[];for(const t of i){const e=o(t);if(!e)return null;a.push(e)}return a})(h);if(!q)throw new Error("Sizes attribute is not valid");const v=a({id:s,quality:p,sizesArr:q,format:"avif",switching:g,aspectRatio:w,cloudName:O,apiVersion:x}),j=a({id:s,quality:p,sizesArr:q,format:"webp",switching:g,aspectRatio:w,apiVersion:x,cloudName:O}),S=r/n,V=g===exports.Switching.Resolution?{sizes:h}:{},z=q[q.length-1].width,E=Math.round(z/S),I=m?{flexShrink:0}:{},_=b?{"data-index":b}:{},A=d?{className:d}:{},L={};N&&(L.display="none");const P={opacity:0};return N&&(P.opacity=1),e.createElement("div",Object.assign({},A,{style:Object.assign(Object.assign(Object.assign({},I),y),{position:"relative",overflow:"hidden"})},_),e.createElement("img",{src:i({id:s,quality:"auto",format:"auto",width:100,aspectRatio:w,blur:1e3,apiVersion:x,cloudName:O}),width:z,height:E,className:u,loading:c?"eager":"lazy",fetchpriority:c?"high":"low",alt:l,style:Object.assign({position:"absolute",inset:0},L)}),e.createElement("picture",{onLoad:()=>{R(!0),f&&b&&f(b)}},e.createElement("source",Object.assign({type:"image/avif",srcSet:v},V)),e.createElement("img",Object.assign({srcSet:j,src:i({id:s,quality:p,format:"webp",width:z,aspectRatio:w,apiVersion:x,cloudName:O}),alt:l,width:z,height:E,loading:c?"eager":"lazy",fetchpriority:c?"high":"low",style:P},V,$))))};
//# sourceMappingURL=bundle.js.map
